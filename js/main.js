!function(e){var n={};function a(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=n,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)a.d(t,o,function(n){return e[n]}.bind(null,o));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="",a(a.s=1)}([function(e,n){e.exports=jQuery},function(e,n,a){e.exports=a(4)},,,function(e,n,a){"use strict";a.r(n);new Swiper(".swiper-container",{direction:"horizontal",loop:!0,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},scrollbar:{el:".swiper-scrollbar"}});var t=a(0),o=function(e){if(t(e).length>0)return t(e).height()},s=function(e,n,a,o,s){t(e).hasClass(n)&&t(e).removeClass(n),t(e).addClass(a),setTimeout((function(){t(e).html(o),t(e).removeClass(a),t(e).addClass(n),t(s).css("min-height","auto")}),500)},i=function(){return new Swiper(".swiper-container",{direction:"horizontal",loop:!0,slidesPerView:"auto",pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},scrollbar:{el:".swiper-scrollbar"}})};jQuery((function(e){var n;if(t(".content-card__text").length>0&&(t(".application-section-1").length>0&&(t(".application-section-1").addClass("content-card__visible"),t(".application-section-1").removeClass("content-card__hidden"),t("#application-section-1").addClass("side-links__item--active")),t(".side-link--target").on("click",(function(e){e.preventDefault();var n=t(".content-card__visible").attr("data-application"),a=t(this).attr("id");t(".".concat(n)).removeClass("content-card__visible"),t(".".concat(n)).addClass("content-card__hidden"),t("#".concat(n)).removeClass("side-links__item--active"),t(".".concat(a)).addClass("content-card__visible"),t("#".concat(a)).addClass("side-links__item--active"),t(".".concat(a)).removeClass("content-card__hidden")}))),t(".ig-footer-navbar").length>0&&(t(".ig-footer-navbar li.menu-item-has-children ul").removeClass("dropdown-menu"),t(".ig-footer-navbar li.menu-item-has-children ul").addClass("former-dropdown-menu")),t(".dropdown-menu").children(".current_page_item").length>0&&t(".current_page_ancestor > a").css("text-decoration","underline"),t(".content-card").hasClass("instrument-1")&&(t(".instrument-1").removeClass("content-card__hidden--reverse "),t("#instrument-1").addClass("side-links__item--active"),t(".instrument-1").addClass("content-card__visible--teachers"),t(".side-link--target-instrument").on("click",(function(e){e.preventDefault();var n=t(".content-card__visible--teachers").attr("data-instrument"),a=t(this).attr("id");t(".".concat(a)).removeClass("content-card__hidden--reverse"),t(".".concat(a)).addClass("content-card__visible--teachers"),t("#".concat(a)).addClass("side-links__item--active"),t(".".concat(n)).removeClass("content-card__visible--teachers"),t(".".concat(n)).addClass("content-card__hidden--reverse"),t("#".concat(n)).removeClass("side-links__item--active")}))),t(".modal").length>0&&(t(".modal-trigger-js").on("click",(function(e){e.preventDefault();var n=t(this).attr("id");t(".modal").addClass("is-open"),t("[data-modalnum=".concat(n,"]")).removeClass("modal__hidden"),t("html").addClass("no-overflow"),t("[data-modalcontent=".concat(n,"]")).addClass("modal__content--on-screen"),setTimeout((function(){t("[data-modalcontent=".concat(n,"]")).removeClass("modal__content--off-screen")}),10)})),t(".modal__close").on("click",(function(){t(".modal__content--on-screen").addClass("modal__content--off-screen"),t(".modal__content--on-screen").removeClass("modal__content--on-screen"),setTimeout((function(){t(".modal").addClass("modal__hidden"),t("html").removeClass("no-overflow")}),500)}))),t(".modal").length,n=function(e,n,a,o){t(".show-all-concerts-js-ajax").hasClass("sort-by-toggler__active")&&t(".show-all-concerts-js-ajax").removeClass("sort-by-toggler__active"),t("#ig-sort-show-all").hasClass("ig_gav-invisible")&&t("#ig-sort-show-all").removeClass("ig_gav-invisible"),t(".".concat(e)).hasClass("sort-by-menu--off-screen")&&(t(".".concat(n)).hasClass("sort-by-menu--on-screen")&&(t(".".concat(n)).removeClass("sort-by-menu--on-screen"),t(".".concat(n)).addClass("sort-by-menu--off-screen")),t("#".concat(a)).removeClass("sort-by-toggler__active"),t("#".concat(o)).addClass("sort-by-toggler__active"),t(".".concat(e)).css("display","flex"),t(".".concat(e)).removeClass("sort-by-menu--off-screen"),t(".".concat(e)).addClass("sort-by-menu--on-screen"))},t("#ig-sort-by-venue").on("click",(function(e){e.preventDefault(),n("sort-by-venue","sort-by-date","ig-sort-by-date","ig-sort-by-venue")})),t("#ig-sort-by-date").on("click",(function(e){e.preventDefault(),n("sort-by-date","sort-by-venue","ig-sort-by-venue","ig-sort-by-date")})),t(".sort-by-venue-js-ajax").on("click",(function(e){e.preventDefault(),t(".js-hide-div-on-ajax").hide(),t(".sort-by-options__link").hasClass("sort-by-options__link--active")&&t(".sort-by-options__link").removeClass("sort-by-options__link--active"),t(".target-div-for-modal-and-spinner-js").hide().append('<div class="ig_loading-spinner   ">\n    </div>').fadeIn(200),t(this).addClass("sort-by-options__link--active");var n=t(this).data("venue-id"),a=o(".ajax-js-change-events-target");t(".page-upcoming-concerts").css("min-height",a),t.ajax({url:wpAjax.ajaxUrl,data:{action:"filter",venueID:n},type:"POST",success:function(e){t(".ig_loading-spinner").fadeOut((function(){t(".ig_loading-spinner").remove()})),s(".ajax-js-change-events-target","history-wrapper__on-screen","history-wrapper__off-screen",e,".page-upcoming-concerts")},error:function(e){console.warn(e)}})})),t(".show-all-concerts-js-ajax").on("click",(function(e){e.preventDefault(),t(".js-hide-div-on-ajax").hide(),t(".sort-by-options__link").hasClass("sort-by-options__link--active")&&t(".sort-by-options__link").removeClass("sort-by-options__link--active"),t(".sort-by-toggler").hasClass("sort-by-toggler__active")&&t(".sort-by-toggler").removeClass("sort-by-toggler__active"),t(".sort-by-venue").hasClass("sort-by-menu--on-screen")&&(t(".sort-by-venue").removeClass("sort-by-menu--on-screen"),t(".sort-by-venue").addClass("sort-by-menu--off-screen")),t(".sort-by-date").hasClass("sort-by-menu--on-screen")&&(t(".sort-by-date").removeClass("sort-by-menu--on-screen"),t(".sort-by-date").addClass("sort-by-menu--off-screen")),t(".show-all-concerts-js-ajax").addClass("sort-by-toggler__active"),t(".target-div-for-modal-and-spinner-js").hide().append('<div class="ig_loading-spinner   ">\n    </div>').fadeIn(200);var n=o(".ajax-js-change-events-target");t(".page-upcoming-concerts").css("min-height",n),t.ajax({url:wpAjax.ajaxUrl,data:{action:"filter",venueID:null,showAll:!0},type:"POST",success:function(e){s(".ajax-js-change-events-target","history-wrapper__on-screen","history-wrapper__off-screen",e,".page-upcoming-concerts"),t(".ig_loading-spinner").fadeOut((function(){t(".ig_loading-spinner").remove()}))},error:function(e){console.warn(e)}})})),t(".sort-by-date-js-ajax").on("click",(function(e){e.preventDefault(),t(".js-hide-div-on-ajax").hide();var n=t(this).data("concert-date");t(".target-div-for-modal-and-spinner-js").hide().append('<div class="ig_loading-spinner   ">\n    </div>').fadeIn(200);var a=o(".ajax-js-change-events-target");t(".page-upcoming-concerts").css("min-height",a),t.ajax({url:wpAjax.ajaxUrl,data:{action:"filter",venueID:"non-venue-choice",datechoice:n,dateFromAjax:!0},type:"POST",success:function(e){s(".ajax-js-change-events-target","history-wrapper__on-screen","history-wrapper__off-screen",e,".page-upcoming-concerts"),t(".ig_loading-spinner").fadeOut((function(){t(".ig_loading-spinner").remove()}))},error:function(e){console.warn(e)}})})),t(".festival-year-toggler-js-ajax").on("click",(function(e){e.preventDefault();var n=t(this).data("festival-year");t(".extra-year-info-js").text(n),t(".festival-year-toggler-js-ajax").hasClass("sort-by-toggler__active")&&t(".festival-year-toggler-js-ajax").removeClass("sort-by-toggler__active"),t(this).addClass("sort-by-toggler__active"),t(".target-div-for-modal-and-spinner-js").hide().append('<div class="ig_loading-spinner   ">\n    </div>').fadeIn(200);var a=o(".history-wrapper");t(".current-year-artists__history").css("min-height",a),t.ajax({url:wpAjax.ajaxUrl,data:{action:"getHistory",festivalQueryYear:n},type:"POST",success:function(e){t(".history-wrapper").length>0&&t(".history-wrapper").remove(),s(".history-by-year-js-ajax-container","history-wrapper__on-screen","history-wrapper__off-screen",e,".current-year-artists__history"),t(".history-by-year-js-ajax-container").html(e),t(".ig_loading-spinner").fadeOut((function(){t(".ig_loading-spinner").remove()}))},error:function(e){console.warn(e)}})})),t(".artist-link-target-js-ajax").length>0&&t(document).on("click",".artist-link-target-js-ajax",(function(e){if("full_bio"===t(this).data("type-of-link")){e.preventDefault(),t(".target-div-for-modal-and-spinner-js").hide().append('<div class="ig_loading-spinner   ">\n</div>').fadeIn(200),setTimeout((function(){t(".modal").addClass("modal__visible"),t(".modal").removeClass("modal__invisible")}),200),t(document).on("click",".modal__close",(function(e){t(".single-artist-dynamic-container").fadeOut(200),setTimeout((function(){t(".single-artist-dynamic-container").remove(),t(".modal").removeClass("modal__visible"),t(".modal").addClass("modal__invisible")}),200)})),t(document).on("click",".btnc-go-back",(function(){t(".single-artist-dynamic-container").fadeOut(200),setTimeout((function(){t(".single-artist-dynamic-container").remove(),t(".modal").removeClass("modal__visible"),t(".modal").addClass("modal__invisible")}),200)}));var n=t(this).data("artist-id");t.ajax({url:wpAjax.ajaxUrl,data:{action:"getSingleArtist",queriedArtistID:n},type:"POST",success:function(e){t(".modal").html(e),t("iframe").length>0&&t("iframe").wrap('<div class="ig-ajax-js-video-container"></div>'),t(".ig_loading-spinner").fadeOut((function(){t(".ig_loading-spinner").remove()})),i()},error:function(e){console.warn(e)}})}else if("no_page"===t(this).data("type-of-link"))e.preventDefault();else if("no-data"===t(this).data("type-of-link")){e.preventDefault(),t(".target-div-for-modal-and-spinner-js").hide().append('<div class="ig_loading-spinner   ">\n  </div>').fadeIn(200),setTimeout((function(){t(".modal").addClass("modal__visible"),t(".modal").removeClass("modal__invisible")}),200),t(document).on("click",".modal__close",(function(e){t(".single-artist-dynamic-container").fadeOut(200),setTimeout((function(){t(".single-artist-dynamic-container").remove(),t(".modal").removeClass("modal__visible"),t(".modal").addClass("modal__invisible")}),200)}));var a=t(this).data("artist-id");t.ajax({url:wpAjax.ajaxUrl,data:{action:"getSingleArtist",queriedArtistID:a},type:"POST",success:function(e){t(".modal").html(e),t(".ig_loading-spinner").fadeOut((function(){t(".ig_loading-spinner").remove()})),i()},error:function(e){console.warn(e)}})}})),e("p:has(iframe)"),e.expr.pseudos.external=function(e){return!e.href.match(/^mailto\:/)&&e.hostname!=location.hostname&&!e.href.match(/^javascript\:/)&&!e.href.match(/^$/)},e("a:external").attr("target","_blank"),e(".top-scrollerx--container").on("click",(function(e){e.preventDefault(),document.body.scrollTop=0,document.documentElement.scrollTop=0})),e(".js-disabled-link")&&(console.log("here"),e(".js-disabled-link").css("pointer-events","none")),e("#developer-email-link-js").length>0){e("#developer-email-link-js").on("click",(function(n){n.preventDefault(),console.log("hello"),e("#developer-email-link-js").hide(),e("#developer-email-link-js").remove(),e(".copyright-text").append(' <a id="developer-email-link-js--after" href="mailto: iurii.gavryliuk@gmail.com"></a>'),e("#developer-email-link-js--after").hide(),e("#developer-email-link-js--after").text("iurii.gavryliuk@gmail.com"),e("#developer-email-link-js--after").css({color:"var(--color-brand)",opacity:1}),e("#developer-email-link-js--after").show("slow")}))}}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwialF1ZXJ5XCIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2pzLXBhcnRpYWxzL3N3aXBlci1jb25maWcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2pzLXBhcnRpYWxzL2FqYXgvY29tcG9uZW50cy9wcmUtYWpheC1zZXR1cC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvanMtcGFydGlhbHMvYWpheC9jb21wb25lbnRzL2FuaW1hdGUtYWpheC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvanMtcGFydGlhbHMvYWpheC9zaG93LXNpbmdsZS1hcnRpc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL21haW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2pzLXBhcnRpYWxzL2FqYXgvdG9nZ2xlLXNvcnRieS1vcHRpb25zLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9qcy1wYXJ0aWFscy9zbGlkZXItd29ya3Nob3BzLXNlY3Rpb24tYXBwbGljYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2pzLXBhcnRpYWxzL25hdmJhci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvanMtcGFydGlhbHMvc2xpZGVyLXdvcmtzaG9wLXNlY3Rpb24tdGVhY2hlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2pzLXBhcnRpYWxzL21vZGFsLXBvcHVwLXNldHVwLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9qcy1wYXJ0aWFscy9hamF4L3NvcnQtYnktdmVudWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2pzLXBhcnRpYWxzL2FqYXgvc29ydC1zaG93LWFsbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvanMtcGFydGlhbHMvYWpheC9zb3J0LWJ5LWRhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2pzLXBhcnRpYWxzL2FqYXgvaGlzdG9yeS1zb3J0LWJ5LXllYXIuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJqUXVlcnkiLCJTd2lwZXIiLCJkaXJlY3Rpb24iLCJsb29wIiwicGFnaW5hdGlvbiIsImVsIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsInNjcm9sbGJhciIsInByZUFqYXhTZXR1cCIsInRhcmdldERpdiIsIiQiLCJsZW5ndGgiLCJoZWlnaHQiLCJhbmltYXRlQWpheCIsImFuaW1hdGlvbkNsYXNzT24iLCJhbmltYXRpb25DbGFzc09mZiIsImRhdGEiLCJyZW1vdmVNaW5IZWlnaHRUYXJnZXQiLCJoYXNDbGFzcyIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJzZXRUaW1lb3V0IiwiaHRtbCIsImNzcyIsInN3aXBlckZ1bmMiLCJzbGlkZXNQZXJWaWV3IiwidG9nZ2xlU29ydE9wdGlvbnMiLCJvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImFjdGl2ZUNsYXNzIiwiYXR0ciIsInRhcmdldENsYXNzIiwidGhpcyIsImNoaWxkcmVuIiwibW9kYWxUYXJnZXQiLCJzaG93VG9nZ2xlTmFtZSIsImhpZGVUb2dnbGVOYW1lIiwib3Bwb3NpdGVUb2dnbGVySWQiLCJ0aGlzVG9nZ2xlSWQiLCJoaWRlIiwiYXBwZW5kIiwiZmFkZUluIiwidmVudWVJRCIsImN1cnJlbnRDb250YWluZXJIZWlnaHQiLCJ1cmwiLCJ3cEFqYXgiLCJhamF4VXJsIiwiYWN0aW9uIiwidHlwZSIsInN1Y2Nlc3MiLCJmYWRlT3V0IiwicmVtb3ZlIiwiZXJyb3IiLCJjb25zb2xlIiwid2FybiIsInNob3dBbGwiLCJkYXRlY2hvaWNlIiwiZGF0ZUZyb21BamF4IiwiZmVzdGl2YWxRdWVyeVllYXIiLCJ0ZXh0IiwiZG9jdW1lbnQiLCJxdWVyaWVkQXJ0aXN0SUQiLCJ3cmFwIiwiZXhwciIsInBzZXVkb3MiLCJleHRlcm5hbCIsIm9iaiIsImhyZWYiLCJtYXRjaCIsImhvc3RuYW1lIiwibG9jYXRpb24iLCJib2R5Iiwic2Nyb2xsVG9wIiwiZG9jdW1lbnRFbGVtZW50IiwibG9nIiwic2hvdyJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUs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LGlCQVFOQSxFQUFFc0QsS0FBS0MsUUFBUUMsU0FBVyxTQUFTQyxHQUNqQyxPQUFRQSxFQUFJQyxLQUFLQyxNQUFNLGNBQ1pGLEVBQUlHLFVBQVlDLFNBQVNELFdBQ3pCSCxFQUFJQyxLQUFLQyxNQUFNLG1CQUNmRixFQUFJQyxLQUFLQyxNQUFNLE9BRTlCM0QsRUFBRSxjQUFjcUIsS0FBSyxTQUFVLFVBRS9CckIsRUFBRSw2QkFBNkJpQixHQUFHLFNBQVMsU0FBU0MsR0FDbERBLEVBQUVDLGlCQUNGZ0MsU0FBU1csS0FBS0MsVUFBWSxFQUMxQlosU0FBU2EsZ0JBQWdCRCxVQUFZLEtBR3BDL0QsRUFBRSx1QkFDSDRDLFFBQVFxQixJQUFJLFFBQ1pqRSxFQUFFLHFCQUFxQmEsSUFBSSxpQkFBa0IsU0FJNUNiLEVBQUUsNEJBQTRCQyxPQUFTLEVBQUcsQ0FpQjNDRCxFQUFFLDRCQUE0QmlCLEdBQUcsU0FmakMsU0FBOEJDLEdBRzVCQSxFQUFFQyxpQkFFRnlCLFFBQVFxQixJQUFJLFNBQ1pqRSxFQUFFLDRCQUE0QjhCLE9BQzlCOUIsRUFBRSw0QkFBNEIwQyxTQUM5QjFDLEVBQUUsbUJBQW1CK0IsT0FBckIseUZBQ0EvQixFQUFFLG1DQUFtQzhCLE9BQ3JDOUIsRUFBRSxtQ0FBbUNrRCxLQUFLLDZCQUMxQ2xELEVBQUUsbUNBQW1DYSxJQUFJLENBQUMsTUFBVSxxQkFBc0IsUUFBWSxJQUN0RmIsRUFBRSxtQ0FBbUNrRSxLQUFLIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGpRdWVyeTsiLCIvLyBpbml0IFN3aXBlcjpcbmV4cG9ydCBjb25zdCBzd2lwZXIgPSBuZXcgU3dpcGVyKFwiLnN3aXBlci1jb250YWluZXJcIiwge1xuICAvLyBPcHRpb25hbCBwYXJhbWV0ZXJzXG4gIGRpcmVjdGlvbjogXCJob3Jpem9udGFsXCIsXG4gIGxvb3A6IHRydWUsXG4gIC8vIHNsaWRlc1BlclZpZXc6IFwiYXV0b1wiLFxuIFxuICAvLyBJZiB3ZSBuZWVkIHBhZ2luYXRpb25cbiAgcGFnaW5hdGlvbjoge1xuICAgIGVsOiBcIi5zd2lwZXItcGFnaW5hdGlvblwiLFxuICB9LFxuXG4gIC8vIE5hdmlnYXRpb24gYXJyb3dzXG4gIG5hdmlnYXRpb246IHtcbiAgICBuZXh0RWw6IFwiLnN3aXBlci1idXR0b24tbmV4dFwiLFxuICAgIHByZXZFbDogXCIuc3dpcGVyLWJ1dHRvbi1wcmV2XCIsXG4gIH0sXG5cbiAgLy8gQW5kIGlmIHdlIG5lZWQgc2Nyb2xsYmFyXG4gIHNjcm9sbGJhcjoge1xuICAgIGVsOiBcIi5zd2lwZXItc2Nyb2xsYmFyXCIsXG4gIH0sXG59KTtcbiIsImltcG9ydCAqIGFzICQgZnJvbSAnanF1ZXJ5JztcblxuXG5leHBvcnQgY29uc3QgcHJlQWpheFNldHVwID0gKHRhcmdldERpdikgPT4ge1xuICAgICAgICBpZiAoJCh0YXJnZXREaXYpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXR1cm4gJCh0YXJnZXREaXYpLmhlaWdodCgpO1xuICAgICAgICB9XG4gICAgICB9OyIsImltcG9ydCAqIGFzICQgZnJvbSAnanF1ZXJ5JztcblxuZXhwb3J0IGNvbnN0IGFuaW1hdGVBamF4ID0gKFxuICAgIHRhcmdldERpdixcbiAgICBhbmltYXRpb25DbGFzc09uLFxuICAgIGFuaW1hdGlvbkNsYXNzT2ZmLFxuICAgIGRhdGEsXG4gICAgcmVtb3ZlTWluSGVpZ2h0VGFyZ2V0XG4gICkgPT4ge1xuICAgIGlmICgkKHRhcmdldERpdikuaGFzQ2xhc3MoYW5pbWF0aW9uQ2xhc3NPbikpIHtcbiAgICAgICQodGFyZ2V0RGl2KS5yZW1vdmVDbGFzcyhhbmltYXRpb25DbGFzc09uKTtcbiAgICB9XG4gICAgJCh0YXJnZXREaXYpLmFkZENsYXNzKGFuaW1hdGlvbkNsYXNzT2ZmKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICQodGFyZ2V0RGl2KS5odG1sKGRhdGEpO1xuXG4gICAgICAkKHRhcmdldERpdikucmVtb3ZlQ2xhc3MoYW5pbWF0aW9uQ2xhc3NPZmYpO1xuICAgICAgJCh0YXJnZXREaXYpLmFkZENsYXNzKGFuaW1hdGlvbkNsYXNzT24pO1xuICAgICAgJChyZW1vdmVNaW5IZWlnaHRUYXJnZXQpLmNzcyhcIm1pbi1oZWlnaHRcIiwgXCJhdXRvXCIpO1xuICAgIH0sIDUwMCk7XG4gIH07IiwiaW1wb3J0ICogYXMgJCBmcm9tIFwianF1ZXJ5XCI7XG5cblxuXG5jb25zdCBzd2lwZXJGdW5jID0gKCkgPT4ge1xuICByZXR1cm4gbmV3IFN3aXBlcihcIi5zd2lwZXItY29udGFpbmVyXCIsIHtcbiAgICAvLyBPcHRpb25hbCBwYXJhbWV0ZXJzXG4gICAgZGlyZWN0aW9uOiBcImhvcml6b250YWxcIixcbiAgICBsb29wOiB0cnVlLFxuICAgIHNsaWRlc1BlclZpZXc6IFwiYXV0b1wiLFxuXG4gICAgLy8gSWYgd2UgbmVlZCBwYWdpbmF0aW9uXG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgZWw6IFwiLnN3aXBlci1wYWdpbmF0aW9uXCIsXG4gICAgfSxcblxuICAgIC8vIE5hdmlnYXRpb24gYXJyb3dzXG4gICAgbmF2aWdhdGlvbjoge1xuICAgICAgbmV4dEVsOiBcIi5zd2lwZXItYnV0dG9uLW5leHRcIixcbiAgICAgIHByZXZFbDogXCIuc3dpcGVyLWJ1dHRvbi1wcmV2XCIsXG4gICAgfSxcblxuICAgIC8vIEFuZCBpZiB3ZSBuZWVkIHNjcm9sbGJhclxuICAgIHNjcm9sbGJhcjoge1xuICAgICAgZWw6IFwiLnN3aXBlci1zY3JvbGxiYXJcIixcbiAgICB9LFxuICB9KTtcbn1cblxuXG5cblxuZXhwb3J0IGNvbnN0IHNob3dTaW5nbGVBcnRpc3QgPSAoKSA9PiB7XG4gIGlmICgkKFwiLmFydGlzdC1saW5rLXRhcmdldC1qcy1hamF4XCIpLmxlbmd0aCA+IDApIHtcbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLmFydGlzdC1saW5rLXRhcmdldC1qcy1hamF4XCIgICwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgLy8gZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5pZigkKHRoaXMpLmRhdGEoXCJ0eXBlLW9mLWxpbmtcIikgPT09ICdmdWxsX2JpbycpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cblxuXG5cblxuXG4gICAgICAkKFwiLnRhcmdldC1kaXYtZm9yLW1vZGFsLWFuZC1zcGlubmVyLWpzXCIpXG4gICAgICAuaGlkZSgpXG4gICAgICAuYXBwZW5kKFxuICAgICAgICBgPGRpdiBjbGFzcz1cImlnX2xvYWRpbmctc3Bpbm5lciAgIFwiPlxuPC9kaXY+YFxuICAgICAgKVxuICAgICAgLmZhZGVJbigyMDApO1xuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgJChcIi5tb2RhbFwiKS5hZGRDbGFzcyhcIm1vZGFsX192aXNpYmxlXCIpO1xuICAgICAgICAkKFwiLm1vZGFsXCIpLnJlbW92ZUNsYXNzKFwibW9kYWxfX2ludmlzaWJsZVwiKTtcbiAgICAgIH0sIDIwMCk7XG5cbiAgXG5cblxuICAgICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5tb2RhbF9fY2xvc2VcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICBcbiAgICAgICAgJChcIi5zaW5nbGUtYXJ0aXN0LWR5bmFtaWMtY29udGFpbmVyXCIpLmZhZGVPdXQoMjAwKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgJChcIi5zaW5nbGUtYXJ0aXN0LWR5bmFtaWMtY29udGFpbmVyXCIpLnJlbW92ZSgpO1xuICAgICAgICAgICQoXCIubW9kYWxcIikucmVtb3ZlQ2xhc3MoXCJtb2RhbF9fdmlzaWJsZVwiKTtcblxuICAgICAgICAgICQoXCIubW9kYWxcIikuYWRkQ2xhc3MoXCJtb2RhbF9faW52aXNpYmxlXCIpO1xuICAgICAgICB9LCAyMDApO1xuICAgICAgfSk7XG4gICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmJ0bmMtZ28tYmFjaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAkKFwiLnNpbmdsZS1hcnRpc3QtZHluYW1pYy1jb250YWluZXJcIikuZmFkZU91dCgyMDApO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAkKFwiLnNpbmdsZS1hcnRpc3QtZHluYW1pYy1jb250YWluZXJcIikucmVtb3ZlKCk7XG4gICAgICAgICAgJChcIi5tb2RhbFwiKS5yZW1vdmVDbGFzcyhcIm1vZGFsX192aXNpYmxlXCIpO1xuXG4gICAgICAgICAgJChcIi5tb2RhbFwiKS5hZGRDbGFzcyhcIm1vZGFsX19pbnZpc2libGVcIik7XG4gICAgICAgIH0sIDIwMCk7XG4gICAgICB9KVxuICAgICAgLy8gbW9kYWwgbW9kYWwtZHJ1bW1lcnMtbGVhZ3VlLWpzIGlzLW9wZW5cblxuICAgICAgY29uc3QgcXVlcmllZEFydGlzdElEID0gJCh0aGlzKS5kYXRhKFwiYXJ0aXN0LWlkXCIpO1xuICAgIFxuICAgICAgJC5hamF4KHtcbiAgICAgICAgdXJsOiB3cEFqYXguYWpheFVybCxcbiAgICAgICAgZGF0YTogeyBhY3Rpb246IFwiZ2V0U2luZ2xlQXJ0aXN0XCIsIHF1ZXJpZWRBcnRpc3RJRDogcXVlcmllZEFydGlzdElEIH0sXG4gICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgXG4gICAgICAgICAgJChcIi5tb2RhbFwiKS5odG1sKGRhdGEpO1xuaWYoJCgnaWZyYW1lJykubGVuZ3RoPiAwKSB7XG4gICQoJ2lmcmFtZScpLndyYXAoJzxkaXYgY2xhc3M9XCJpZy1hamF4LWpzLXZpZGVvLWNvbnRhaW5lclwiPjwvZGl2PicpXG59XG5cbiAgICAgICAgICAkKFwiLmlnX2xvYWRpbmctc3Bpbm5lclwiKS5mYWRlT3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoXCIuaWdfbG9hZGluZy1zcGlubmVyXCIpLnJlbW92ZSgpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICBcbiAgICAgICBjb25zdCBzd2lwZXIgPSAgc3dpcGVyRnVuYygpO1xuICAgICAgICAgXG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IpO1xuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICBcbiAgICB9IGVsc2UgaWYgKCQodGhpcykuZGF0YShcInR5cGUtb2YtbGlua1wiKSA9PT0gJ25vX3BhZ2UnKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9IGVsc2UgaWYoICQodGhpcykuZGF0YShcInR5cGUtb2YtbGlua1wiKSA9PT0gJ25vLWRhdGEnICl7ICBcbiAgICAgICAgXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgXG5cblxuXG5cblxuICAgICAgICAkKFwiLnRhcmdldC1kaXYtZm9yLW1vZGFsLWFuZC1zcGlubmVyLWpzXCIpXG4gICAgICAgIC5oaWRlKClcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICBgPGRpdiBjbGFzcz1cImlnX2xvYWRpbmctc3Bpbm5lciAgIFwiPlxuICA8L2Rpdj5gXG4gICAgICAgIClcbiAgICAgICAgLmZhZGVJbigyMDApO1xuICBcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgJChcIi5tb2RhbFwiKS5hZGRDbGFzcyhcIm1vZGFsX192aXNpYmxlXCIpO1xuICAgICAgICAgICQoXCIubW9kYWxcIikucmVtb3ZlQ2xhc3MoXCJtb2RhbF9faW52aXNpYmxlXCIpO1xuICAgICAgICB9LCAyMDApO1xuICBcbiAgICBcbiAgXG4gIFxuICAgICAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLm1vZGFsX19jbG9zZVwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICQoXCIuc2luZ2xlLWFydGlzdC1keW5hbWljLWNvbnRhaW5lclwiKS5mYWRlT3V0KDIwMCk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAkKFwiLnNpbmdsZS1hcnRpc3QtZHluYW1pYy1jb250YWluZXJcIikucmVtb3ZlKCk7XG4gICAgICAgICAgICAkKFwiLm1vZGFsXCIpLnJlbW92ZUNsYXNzKFwibW9kYWxfX3Zpc2libGVcIik7XG4gICAgICAgICAgICAkKFwiLm1vZGFsXCIpLmFkZENsYXNzKFwibW9kYWxfX2ludmlzaWJsZVwiKTtcbiAgICAgICAgICB9LCAyMDApO1xuICAgICAgICB9KTtcbiAgXG4gICAgICAgIC8vIG1vZGFsIG1vZGFsLWRydW1tZXJzLWxlYWd1ZS1qcyBpcy1vcGVuXG4gIFxuICAgICAgICBjb25zdCBxdWVyaWVkQXJ0aXN0SUQgPSAkKHRoaXMpLmRhdGEoXCJhcnRpc3QtaWRcIik7XG4gICAgICBcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICB1cmw6IHdwQWpheC5hamF4VXJsLFxuICAgICAgICAgIGRhdGE6IHsgYWN0aW9uOiBcImdldFNpbmdsZUFydGlzdFwiLCBxdWVyaWVkQXJ0aXN0SUQ6IHF1ZXJpZWRBcnRpc3RJRCB9LFxuICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAkKFwiLm1vZGFsXCIpLmh0bWwoZGF0YSk7XG4gICAgICAgICAgICAkKFwiLmlnX2xvYWRpbmctc3Bpbm5lclwiKS5mYWRlT3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgJChcIi5pZ19sb2FkaW5nLXNwaW5uZXJcIikucmVtb3ZlKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgIGNvbnN0IHN3aXBlciA9ICBzd2lwZXJGdW5jKCk7XG5cbiAgICAgICAgICB9LFxuICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnJvcik7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cblxuXG5cblxuXG5cblxuICAgIH0gZWxzZSB7XG5cbiAgICB9XG5cblxuXG5cblxuICAgIH0pO1xuICBcblxuXG59XG59O1xuIiwiaW1wb3J0IHsgc3dpcGVyIH0gZnJvbSBcIi4vanMtcGFydGlhbHMvc3dpcGVyLWNvbmZpZy5qc1wiO1xuaW1wb3J0IHsgc2xpZGVyRm9yQXBwbGljYXRpb24gfSBmcm9tIFwiLi9qcy1wYXJ0aWFscy9zbGlkZXItd29ya3Nob3BzLXNlY3Rpb24tYXBwbGljYXRpb25cIjtcbmltcG9ydCB7IGFkanVzdE5hdmJhciB9IGZyb20gXCIuL2pzLXBhcnRpYWxzL25hdmJhclwiO1xuaW1wb3J0IHsgc2xpZGVyV29ya3Nob3BTZWN0aW9uVGVhY2hlcnMgfSBmcm9tIFwiLi9qcy1wYXJ0aWFscy9zbGlkZXItd29ya3Nob3Atc2VjdGlvbi10ZWFjaGVyc1wiO1xuaW1wb3J0IHsgbW9kYWxQb3B1cFNldHVwIH0gZnJvbSBcIi4vanMtcGFydGlhbHMvbW9kYWwtcG9wdXAtc2V0dXBcIjtcbmltcG9ydCB7IHRvZ2dsZVNvcnRCeU9wdGlvbnMgfSBmcm9tIFwiLi9qcy1wYXJ0aWFscy9hamF4L3RvZ2dsZS1zb3J0Ynktb3B0aW9uc1wiO1xuaW1wb3J0IHsgc29ydEJ5VmVudWVBamF4Q2FsbCB9IGZyb20gXCIuL2pzLXBhcnRpYWxzL2FqYXgvc29ydC1ieS12ZW51ZVwiO1xuaW1wb3J0IHsgc2hvd0FsbFVwY29taW5nRXZlbnRzQWpheENhbGwgfSBmcm9tIFwiLi9qcy1wYXJ0aWFscy9hamF4L3NvcnQtc2hvdy1hbGxcIjtcbmltcG9ydCB7IHNvcnRCeURhdGVBamF4Q2FsbCB9IGZyb20gXCIuL2pzLXBhcnRpYWxzL2FqYXgvc29ydC1ieS1kYXRlXCI7XG5pbXBvcnQgeyBzb3J0SGlzdG9yeUJ5WWVhciB9IGZyb20gXCIuL2pzLXBhcnRpYWxzL2FqYXgvaGlzdG9yeS1zb3J0LWJ5LXllYXJcIjtcbmltcG9ydCB7IHNob3dTaW5nbGVBcnRpc3QgfSBmcm9tIFwiLi9qcy1wYXJ0aWFscy9hamF4L3Nob3ctc2luZ2xlLWFydGlzdFwiO1xuXG5cbmpRdWVyeShmdW5jdGlvbiAoJCkge1xuICBjb25zdCBCUF9NRURJVU0gPSA3Njc7XG5cbiAgc2xpZGVyRm9yQXBwbGljYXRpb24oKTtcbiAgYWRqdXN0TmF2YmFyKCk7XG4gIHNsaWRlcldvcmtzaG9wU2VjdGlvblRlYWNoZXJzKCk7XG4gIG1vZGFsUG9wdXBTZXR1cCgpO1xuXG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vQUpBWCBGSUxURVJTLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIHRvZ2dsZVNvcnRCeU9wdGlvbnMoKTtcbiAgc29ydEJ5VmVudWVBamF4Q2FsbCgpO1xuICBzaG93QWxsVXBjb21pbmdFdmVudHNBamF4Q2FsbCgpO1xuICBzb3J0QnlEYXRlQWpheENhbGwoKTtcbiAgc29ydEhpc3RvcnlCeVllYXIoKTtcbiAgc2hvd1NpbmdsZUFydGlzdCgpXG5cblxuICBpZiAoJChcInA6aGFzKGlmcmFtZSlcIikpIHtcbiAgICAvLyAkKHApLmNzcyh7J2Rpc3BsYXknIDogJ2ZsZXgnLCAnanVzdGlmeS1jb250ZW50JyA6ICdjZW50ZXInfSlcbiAgfVxuXG5cblxuICAvLyBhZCB0YXJnZXQgYmxhbmsgdG8gYWxsIGV4dGVybmFsIGEgdGFnczpcblxuICAkLmV4cHIucHNldWRvcy5leHRlcm5hbCA9IGZ1bmN0aW9uKG9iail7XG4gICAgcmV0dXJuICFvYmouaHJlZi5tYXRjaCgvXm1haWx0b1xcOi8pXG4gICAgICAgICAgICYmIChvYmouaG9zdG5hbWUgIT0gbG9jYXRpb24uaG9zdG5hbWUpXG4gICAgICAgICAgICYmICFvYmouaHJlZi5tYXRjaCgvXmphdmFzY3JpcHRcXDovKVxuICAgICAgICAgICAmJiAhb2JqLmhyZWYubWF0Y2goL14kLylcbn07XG4kKCdhOmV4dGVybmFsJykuYXR0cigndGFyZ2V0JywgJ19ibGFuaycpO1xuXG4kKCcudG9wLXNjcm9sbGVyeC0tY29udGFpbmVyJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID0gMDtcbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IDA7XG59KVxuXG5pZigkKFwiLmpzLWRpc2FibGVkLWxpbmtcIikpIHtcbiAgY29uc29sZS5sb2coJ2hlcmUnKVxuICAkKFwiLmpzLWRpc2FibGVkLWxpbmtcIikuY3NzKCdwb2ludGVyLWV2ZW50cycsICdub25lJyk7XG59XG5cblxuaWYoJCgnI2RldmVsb3Blci1lbWFpbC1saW5rLWpzJykubGVuZ3RoID4gMCkge1xuXG4gIGZ1bmN0aW9uIGNoYW5nZURldmVsb3BlcnNMaW5rKGUpIHtcblxuICAgIFxuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnaGVsbG8nKVxuICAgICQoJyNkZXZlbG9wZXItZW1haWwtbGluay1qcycpLmhpZGUoKTtcbiAgICAkKCcjZGV2ZWxvcGVyLWVtYWlsLWxpbmstanMnKS5yZW1vdmUoKTtcbiAgICAkKCcuY29weXJpZ2h0LXRleHQnKS5hcHBlbmQoYCA8YSBpZD1cImRldmVsb3Blci1lbWFpbC1saW5rLWpzLS1hZnRlclwiIGhyZWY9XCJtYWlsdG86IGl1cmlpLmdhdnJ5bGl1a0BnbWFpbC5jb21cIj48L2E+YClcbiAgICAkKCcjZGV2ZWxvcGVyLWVtYWlsLWxpbmstanMtLWFmdGVyJykuaGlkZSgpO1xuICAgICQoJyNkZXZlbG9wZXItZW1haWwtbGluay1qcy0tYWZ0ZXInKS50ZXh0KCdpdXJpaS5nYXZyeWxpdWtAZ21haWwuY29tJyk7XG4gICAgJCgnI2RldmVsb3Blci1lbWFpbC1saW5rLWpzLS1hZnRlcicpLmNzcyh7J2NvbG9yJyA6ICd2YXIoLS1jb2xvci1icmFuZCknLCAnb3BhY2l0eScgOiAxIH0pXG4gICAgJCgnI2RldmVsb3Blci1lbWFpbC1saW5rLWpzLS1hZnRlcicpLnNob3coJ3Nsb3cnKTtcbiAgfVxuXG4gICQoJyNkZXZlbG9wZXItZW1haWwtbGluay1qcycpLm9uKFwiY2xpY2tcIiwgY2hhbmdlRGV2ZWxvcGVyc0xpbmspO1xuICBcbn1cblxuXG59KTtcblxuIiwiaW1wb3J0ICogYXMgJCBmcm9tICdqcXVlcnknO1xuXG5cbmV4cG9ydCBjb25zdCB0b2dnbGVTb3J0QnlPcHRpb25zID0gKCkgPT4ge1xuICAgIGNvbnN0IHRvZ2dsZVNvcnRPcHRpb25zID0gKFxuICAgICAgICBzaG93VG9nZ2xlTmFtZSxcbiAgICAgICAgaGlkZVRvZ2dsZU5hbWUsXG4gICAgICAgIG9wcG9zaXRlVG9nZ2xlcklkLFxuICAgICAgICB0aGlzVG9nZ2xlSWRcbiAgICAgICkgPT4ge1xuICAgICAgICBpZiAoJChcIi5zaG93LWFsbC1jb25jZXJ0cy1qcy1hamF4XCIpLmhhc0NsYXNzKFwic29ydC1ieS10b2dnbGVyX19hY3RpdmVcIikpIHtcbiAgICAgICAgICAkKFwiLnNob3ctYWxsLWNvbmNlcnRzLWpzLWFqYXhcIikucmVtb3ZlQ2xhc3MoXCJzb3J0LWJ5LXRvZ2dsZXJfX2FjdGl2ZVwiKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBpZiAoJChcIiNpZy1zb3J0LXNob3ctYWxsXCIpLmhhc0NsYXNzKFwiaWdfZ2F2LWludmlzaWJsZVwiKSkge1xuICAgICAgICAgICQoXCIjaWctc29ydC1zaG93LWFsbFwiKS5yZW1vdmVDbGFzcyhcImlnX2dhdi1pbnZpc2libGVcIik7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgaWYgKCQoYC4ke3Nob3dUb2dnbGVOYW1lfWApLmhhc0NsYXNzKFwic29ydC1ieS1tZW51LS1vZmYtc2NyZWVuXCIpKSB7XG4gICAgICAgICAgaWYgKCQoYC4ke2hpZGVUb2dnbGVOYW1lfWApLmhhc0NsYXNzKFwic29ydC1ieS1tZW51LS1vbi1zY3JlZW5cIikpIHtcbiAgICAgICAgICAgICQoYC4ke2hpZGVUb2dnbGVOYW1lfWApLnJlbW92ZUNsYXNzKFwic29ydC1ieS1tZW51LS1vbi1zY3JlZW5cIik7XG4gICAgICAgICAgICAkKGAuJHtoaWRlVG9nZ2xlTmFtZX1gKS5hZGRDbGFzcyhcInNvcnQtYnktbWVudS0tb2ZmLXNjcmVlblwiKTtcbiAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgLy8gaWYoJChgIyR7b3Bwb3NpdGVUb2dnbGVySWR9YCkuaGFzQ2xhc3MoJ3NvcnQtYnktdG9nZ2xlcl9fYWN0aXZlJykpIHtcbiAgICAgICAgICAkKGAjJHtvcHBvc2l0ZVRvZ2dsZXJJZH1gKS5yZW1vdmVDbGFzcyhcInNvcnQtYnktdG9nZ2xlcl9fYWN0aXZlXCIpO1xuICAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgICAgJChgIyR7dGhpc1RvZ2dsZUlkfWApLmFkZENsYXNzKFwic29ydC1ieS10b2dnbGVyX19hY3RpdmVcIik7XG4gICAgXG4gICAgICAgICAgLy8gfVxuICAgICAgICAgICQoYC4ke3Nob3dUb2dnbGVOYW1lfWApLmNzcyhcImRpc3BsYXlcIiwgXCJmbGV4XCIpO1xuICAgICAgICAgICQoYC4ke3Nob3dUb2dnbGVOYW1lfWApLnJlbW92ZUNsYXNzKFwic29ydC1ieS1tZW51LS1vZmYtc2NyZWVuXCIpO1xuICAgICAgICAgICQoYC4ke3Nob3dUb2dnbGVOYW1lfWApLmFkZENsYXNzKFwic29ydC1ieS1tZW51LS1vbi1zY3JlZW5cIik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgXG4gICAgICAkKFwiI2lnLXNvcnQtYnktdmVudWVcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRvZ2dsZVNvcnRPcHRpb25zKFxuICAgICAgICAgIFwic29ydC1ieS12ZW51ZVwiLFxuICAgICAgICAgIFwic29ydC1ieS1kYXRlXCIsXG4gICAgICAgICAgXCJpZy1zb3J0LWJ5LWRhdGVcIixcbiAgICAgICAgICBcImlnLXNvcnQtYnktdmVudWVcIlxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgICAkKFwiI2lnLXNvcnQtYnktZGF0ZVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdG9nZ2xlU29ydE9wdGlvbnMoXG4gICAgICAgICAgXCJzb3J0LWJ5LWRhdGVcIixcbiAgICAgICAgICBcInNvcnQtYnktdmVudWVcIixcbiAgICAgICAgICBcImlnLXNvcnQtYnktdmVudWVcIixcbiAgICAgICAgICBcImlnLXNvcnQtYnktZGF0ZVwiXG4gICAgICAgICk7XG4gICAgICB9KTtcbn0iLCJpbXBvcnQgKiBhcyAkIGZyb20gJ2pxdWVyeSc7XG5cbmNvbnN0IEJQX01FRElVTSA9IDc2NztcblxuZXhwb3J0IGNvbnN0IHNsaWRlckZvckFwcGxpY2F0aW9uID0gKCkgPT4ge1xuICAgICAgaWYgKCQoXCIuY29udGVudC1jYXJkX190ZXh0XCIpLmxlbmd0aCA+IDApIHtcblxuICAgICAgaWYgKCQoXCIuYXBwbGljYXRpb24tc2VjdGlvbi0xXCIpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJChcIi5hcHBsaWNhdGlvbi1zZWN0aW9uLTFcIikuYWRkQ2xhc3MoXCJjb250ZW50LWNhcmRfX3Zpc2libGVcIik7XG4gICAgICAgICQoXCIuYXBwbGljYXRpb24tc2VjdGlvbi0xXCIpLnJlbW92ZUNsYXNzKFwiY29udGVudC1jYXJkX19oaWRkZW5cIik7XG4gICAgICAgICQoXCIjYXBwbGljYXRpb24tc2VjdGlvbi0xXCIpLmFkZENsYXNzKFwic2lkZS1saW5rc19faXRlbS0tYWN0aXZlXCIpO1xuICBcbiAgIFxuICAgICAgfVxuICAgICAgXG4gIFxuICAgICAgJChcIi5zaWRlLWxpbmstLXRhcmdldFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgXG4gICAgICAgIGNvbnN0IGFjdGl2ZUNsYXNzID0gJChcIi5jb250ZW50LWNhcmRfX3Zpc2libGVcIikuYXR0cihcImRhdGEtYXBwbGljYXRpb25cIik7XG4gICAgICAgIGNvbnN0IHRhcmdldENsYXNzID0gJCh0aGlzKS5hdHRyKFwiaWRcIik7XG4gICAgICBcbiAgXG4gICAgICAgICQoYC4ke2FjdGl2ZUNsYXNzfWApLnJlbW92ZUNsYXNzKFwiY29udGVudC1jYXJkX192aXNpYmxlXCIpO1xuICAgICAgICAkKGAuJHthY3RpdmVDbGFzc31gKS5hZGRDbGFzcyhcImNvbnRlbnQtY2FyZF9faGlkZGVuXCIpO1xuICAgICAgICAkKGAjJHthY3RpdmVDbGFzc31gKS5yZW1vdmVDbGFzcyhcInNpZGUtbGlua3NfX2l0ZW0tLWFjdGl2ZVwiKTtcbiAgXG4gICAgICAgICQoYC4ke3RhcmdldENsYXNzfWApLmFkZENsYXNzKFwiY29udGVudC1jYXJkX192aXNpYmxlXCIpO1xuICBcbiAgICAgIFxuICAgICAgICAkKGAjJHt0YXJnZXRDbGFzc31gKS5hZGRDbGFzcyhcInNpZGUtbGlua3NfX2l0ZW0tLWFjdGl2ZVwiKTtcbiAgXG4gICAgICAgICQoYC4ke3RhcmdldENsYXNzfWApLnJlbW92ZUNsYXNzKFwiY29udGVudC1jYXJkX19oaWRkZW5cIik7XG4gICAgICB9KTtcbiAgICB9XG4gIFxufVxuXG4iLCJpbXBvcnQgKiBhcyAkIGZyb20gJ2pxdWVyeSc7XG5leHBvcnQgY29uc3QgYWRqdXN0TmF2YmFyID0gKCkgPT4ge1xuICAgICAgLy8gb3BlbiBhbGwgdGhlIHN1Ym1lbnUgaW4gZm9vdGVyXG5cbiAgaWYgKCQoXCIuaWctZm9vdGVyLW5hdmJhclwiKS5sZW5ndGggPiAwKSB7XG4gIFxuICAgICQoXCIuaWctZm9vdGVyLW5hdmJhciBsaS5tZW51LWl0ZW0taGFzLWNoaWxkcmVuIHVsXCIpLnJlbW92ZUNsYXNzKFxuICAgICAgXCJkcm9wZG93bi1tZW51XCJcbiAgICApO1xuICAgICQoXCIuaWctZm9vdGVyLW5hdmJhciBsaS5tZW51LWl0ZW0taGFzLWNoaWxkcmVuIHVsXCIpLmFkZENsYXNzKFxuICAgICAgXCJmb3JtZXItZHJvcGRvd24tbWVudVwiXG4gICAgKTtcbiAgfVxuXG4gIGlmKCQoJy5kcm9wZG93bi1tZW51JykuY2hpbGRyZW4oJy5jdXJyZW50X3BhZ2VfaXRlbScpLmxlbmd0aCA+IDApIHtcbiAgICAkKCcuY3VycmVudF9wYWdlX2FuY2VzdG9yID4gYScpLmNzcygndGV4dC1kZWNvcmF0aW9uJywgJ3VuZGVybGluZScpXG4gICAgfVxuXG59IiwiaW1wb3J0ICogYXMgJCBmcm9tICdqcXVlcnknO1xuXG5jb25zdCBCUF9NRURJVU0gPSA3Njc7XG5cbmV4cG9ydCBjb25zdCBzbGlkZXJXb3Jrc2hvcFNlY3Rpb25UZWFjaGVycyA9ICgpID0+IHtcbiAgICAgIC8vU2xpZGVyIGZvciB0ZXh0IGNhcmQgaW4gdGVhY2hlcnMgc2VjdGlvbiBzZWN0aW9uXG5cbiAgaWYgKCQoXCIuY29udGVudC1jYXJkXCIpLmhhc0NsYXNzKFwiaW5zdHJ1bWVudC0xXCIpKSB7XG4gICAgJChcIi5pbnN0cnVtZW50LTFcIikucmVtb3ZlQ2xhc3MoXCJjb250ZW50LWNhcmRfX2hpZGRlbi0tcmV2ZXJzZSBcIik7XG4gICAgJChgI2luc3RydW1lbnQtMWApLmFkZENsYXNzKFwic2lkZS1saW5rc19faXRlbS0tYWN0aXZlXCIpO1xuICAgICQoYC5pbnN0cnVtZW50LTFgKS5hZGRDbGFzcyhcImNvbnRlbnQtY2FyZF9fdmlzaWJsZS0tdGVhY2hlcnNcIik7XG5cbiAgXG4gICAgJChcIi5zaWRlLWxpbmstLXRhcmdldC1pbnN0cnVtZW50XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgXG4gICAgICBjb25zdCBhY3RpdmVDbGFzcyA9ICQoXCIuY29udGVudC1jYXJkX192aXNpYmxlLS10ZWFjaGVyc1wiKS5hdHRyKFxuICAgICAgICBcImRhdGEtaW5zdHJ1bWVudFwiXG4gICAgICApO1xuXG4gICAgICBjb25zdCB0YXJnZXRDbGFzcyA9ICQodGhpcykuYXR0cihcImlkXCIpO1xuXG4gICAgICBcblxuICAgICAgJChgLiR7dGFyZ2V0Q2xhc3N9YCkucmVtb3ZlQ2xhc3MoXCJjb250ZW50LWNhcmRfX2hpZGRlbi0tcmV2ZXJzZVwiKTtcbiAgICAgICQoYC4ke3RhcmdldENsYXNzfWApLmFkZENsYXNzKFwiY29udGVudC1jYXJkX192aXNpYmxlLS10ZWFjaGVyc1wiKTtcbiAgICAgICQoYCMke3RhcmdldENsYXNzfWApLmFkZENsYXNzKFwic2lkZS1saW5rc19faXRlbS0tYWN0aXZlXCIpO1xuICAgICAgJChgLiR7YWN0aXZlQ2xhc3N9YCkucmVtb3ZlQ2xhc3MoXCJjb250ZW50LWNhcmRfX3Zpc2libGUtLXRlYWNoZXJzXCIpO1xuICAgICAgJChgLiR7YWN0aXZlQ2xhc3N9YCkuYWRkQ2xhc3MoXCJjb250ZW50LWNhcmRfX2hpZGRlbi0tcmV2ZXJzZVwiKTtcbiAgICAgICQoYCMke2FjdGl2ZUNsYXNzfWApLnJlbW92ZUNsYXNzKFwic2lkZS1saW5rc19faXRlbS0tYWN0aXZlXCIpO1xuXG4gICBcbiAgICB9KTtcbiAgfVxufSIsImltcG9ydCAqIGFzICQgZnJvbSAnanF1ZXJ5JztcblxuXG5leHBvcnQgY29uc3QgbW9kYWxQb3B1cFNldHVwID0gKCkgPT4ge1xuICAgIGlmICgkKFwiLm1vZGFsXCIpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJChcIi5tb2RhbC10cmlnZ2VyLWpzXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgXG4gICAgICAgICAgLy9jYXNlIGZvciBiYWx0aWMgZHJ1bW1lcnMgbGVhZ3VlIGZpbmFsaXN0c1xuICAgIFxuICAgICAgICAgIGNvbnN0IG1vZGFsVGFyZ2V0ID0gJCh0aGlzKS5hdHRyKFwiaWRcIik7XG4gICAgICAgICAgJChcIi5tb2RhbFwiKS5hZGRDbGFzcyhcImlzLW9wZW5cIik7XG4gICAgICAgICAgJChgW2RhdGEtbW9kYWxudW09JHttb2RhbFRhcmdldH1dYCkucmVtb3ZlQ2xhc3MoXCJtb2RhbF9faGlkZGVuXCIpO1xuICAgICAgICAgICQoXCJodG1sXCIpLmFkZENsYXNzKFwibm8tb3ZlcmZsb3dcIik7XG4gICAgICAgICAgJChgW2RhdGEtbW9kYWxjb250ZW50PSR7bW9kYWxUYXJnZXR9XWApLmFkZENsYXNzKFxuICAgICAgICAgICAgXCJtb2RhbF9fY29udGVudC0tb24tc2NyZWVuXCJcbiAgICAgICAgICApO1xuICAgIFxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgJChgW2RhdGEtbW9kYWxjb250ZW50PSR7bW9kYWxUYXJnZXR9XWApLnJlbW92ZUNsYXNzKFxuICAgICAgICAgICAgICBcIm1vZGFsX19jb250ZW50LS1vZmYtc2NyZWVuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSwgMTApO1xuICAgICAgICB9KTtcbiAgICAgICAgJChcIi5tb2RhbF9fY2xvc2VcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJChcIi5tb2RhbF9fY29udGVudC0tb24tc2NyZWVuXCIpLmFkZENsYXNzKFwibW9kYWxfX2NvbnRlbnQtLW9mZi1zY3JlZW5cIik7XG4gICAgICAgICAgJChcIi5tb2RhbF9fY29udGVudC0tb24tc2NyZWVuXCIpLnJlbW92ZUNsYXNzKFwibW9kYWxfX2NvbnRlbnQtLW9uLXNjcmVlblwiKTtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICQoXCIubW9kYWxcIikuYWRkQ2xhc3MoXCJtb2RhbF9faGlkZGVuXCIpO1xuICAgICAgICAgICAgJChcImh0bWxcIikucmVtb3ZlQ2xhc3MoXCJuby1vdmVyZmxvd1wiKTtcbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9KTtcblxuICAgICBcbiAgICAgIH1cbiAgICBcbiAgICAgIGlmICgkKFwiLm1vZGFsXCIpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gJChcIi5tb2RhbFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gICBjb25zb2xlLmxvZyhcImNsaWNrZWRcIik7XG4gICAgICAgIC8vICAgaWYgKCQoXCIubW9kYWxcIikuaGFzQ2xhc3MoXCJpcy1vcGVuXCIpKSB7XG4gICAgICAgIC8vICAgICAkKFwiLm1vZGFsX19jbG9zZVwiKS50cmlnZ2VySGFuZGxlcihcImNsaWNrXCIpO1xuICAgICAgICAvLyAgIH1cbiAgICAgICAgLy8gfSk7XG4gICAgICB9IFxufSIsImltcG9ydCAqIGFzICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCB7cHJlQWpheFNldHVwfSBmcm9tICcuL2NvbXBvbmVudHMvcHJlLWFqYXgtc2V0dXAnO1xuaW1wb3J0IHthbmltYXRlQWpheH0gZnJvbSAnLi9jb21wb25lbnRzL2FuaW1hdGUtYWpheCc7XG5cbmV4cG9ydCBjb25zdCBzb3J0QnlWZW51ZUFqYXhDYWxsID0gKCkgPT4ge1xuICAgICQoXCIuc29ydC1ieS12ZW51ZS1qcy1hamF4XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkKFwiLmpzLWhpZGUtZGl2LW9uLWFqYXhcIikuaGlkZSgpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCQoXCIuc29ydC1ieS1vcHRpb25zX19saW5rXCIpLmhhc0NsYXNzKFwic29ydC1ieS1vcHRpb25zX19saW5rLS1hY3RpdmVcIikpIHtcbiAgICAgICAgICAkKFwiLnNvcnQtYnktb3B0aW9uc19fbGlua1wiKS5yZW1vdmVDbGFzcyhcInNvcnQtYnktb3B0aW9uc19fbGluay0tYWN0aXZlXCIpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgICQoXCIudGFyZ2V0LWRpdi1mb3ItbW9kYWwtYW5kLXNwaW5uZXItanNcIilcbiAgICAgICAgICAuaGlkZSgpXG4gICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgIGA8ZGl2IGNsYXNzPVwiaWdfbG9hZGluZy1zcGlubmVyICAgXCI+XG4gICAgPC9kaXY+YFxuICAgICAgICAgIClcbiAgICAgICAgICAuZmFkZUluKDIwMCk7XG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoXCJzb3J0LWJ5LW9wdGlvbnNfX2xpbmstLWFjdGl2ZVwiKTtcbiAgICAgICAgY29uc3QgdmVudWVJRCA9ICQodGhpcykuZGF0YShcInZlbnVlLWlkXCIpO1xuICAgICAgICBjb25zdCBjdXJyZW50Q29udGFpbmVySGVpZ2h0ID0gcHJlQWpheFNldHVwKFxuICAgICAgICAgIFwiLmFqYXgtanMtY2hhbmdlLWV2ZW50cy10YXJnZXRcIlxuICAgICAgICApO1xuICAgICAgICAkKFwiLnBhZ2UtdXBjb21pbmctY29uY2VydHNcIikuY3NzKFwibWluLWhlaWdodFwiLCBjdXJyZW50Q29udGFpbmVySGVpZ2h0KTtcbiAgICBcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICB1cmw6IHdwQWpheC5hamF4VXJsLFxuICAgICAgICAgIGRhdGE6IHsgYWN0aW9uOiBcImZpbHRlclwiLCB2ZW51ZUlEOiB2ZW51ZUlEIH0sXG4gICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICQoXCIuaWdfbG9hZGluZy1zcGlubmVyXCIpLmZhZGVPdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAkKFwiLmlnX2xvYWRpbmctc3Bpbm5lclwiKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgIFxuICAgICAgICAgICAgYW5pbWF0ZUFqYXgoXG4gICAgICAgICAgICAgIFwiLmFqYXgtanMtY2hhbmdlLWV2ZW50cy10YXJnZXRcIixcbiAgICAgICAgICAgICAgXCJoaXN0b3J5LXdyYXBwZXJfX29uLXNjcmVlblwiLFxuICAgICAgICAgICAgICBcImhpc3Rvcnktd3JhcHBlcl9fb2ZmLXNjcmVlblwiLFxuICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICBcIi5wYWdlLXVwY29taW5nLWNvbmNlcnRzXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG59IiwiaW1wb3J0ICogYXMgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IHtwcmVBamF4U2V0dXB9IGZyb20gJy4vY29tcG9uZW50cy9wcmUtYWpheC1zZXR1cCc7XG5pbXBvcnQge2FuaW1hdGVBamF4fSBmcm9tICcuL2NvbXBvbmVudHMvYW5pbWF0ZS1hamF4JztcblxuZXhwb3J0IGNvbnN0IHNob3dBbGxVcGNvbWluZ0V2ZW50c0FqYXhDYWxsID0gKCkgPT4ge1xuXG4gICAgJChcIi5zaG93LWFsbC1jb25jZXJ0cy1qcy1hamF4XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkKFwiLmpzLWhpZGUtZGl2LW9uLWFqYXhcIikuaGlkZSgpO1xuICAgICAgICBpZiAoJChcIi5zb3J0LWJ5LW9wdGlvbnNfX2xpbmtcIikuaGFzQ2xhc3MoXCJzb3J0LWJ5LW9wdGlvbnNfX2xpbmstLWFjdGl2ZVwiKSkge1xuICAgICAgICAgICQoXCIuc29ydC1ieS1vcHRpb25zX19saW5rXCIpLnJlbW92ZUNsYXNzKFwic29ydC1ieS1vcHRpb25zX19saW5rLS1hY3RpdmVcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCQoXCIuc29ydC1ieS10b2dnbGVyXCIpLmhhc0NsYXNzKFwic29ydC1ieS10b2dnbGVyX19hY3RpdmVcIikpIHtcbiAgICAgICAgICAkKFwiLnNvcnQtYnktdG9nZ2xlclwiKS5yZW1vdmVDbGFzcyhcInNvcnQtYnktdG9nZ2xlcl9fYWN0aXZlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkKFwiLnNvcnQtYnktdmVudWVcIikuaGFzQ2xhc3MoXCJzb3J0LWJ5LW1lbnUtLW9uLXNjcmVlblwiKSkge1xuICAgICAgICAgICQoXCIuc29ydC1ieS12ZW51ZVwiKS5yZW1vdmVDbGFzcyhcInNvcnQtYnktbWVudS0tb24tc2NyZWVuXCIpO1xuICAgICAgICAgICQoXCIuc29ydC1ieS12ZW51ZVwiKS5hZGRDbGFzcyhcInNvcnQtYnktbWVudS0tb2ZmLXNjcmVlblwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJChcIi5zb3J0LWJ5LWRhdGVcIikuaGFzQ2xhc3MoXCJzb3J0LWJ5LW1lbnUtLW9uLXNjcmVlblwiKSkge1xuICAgICAgICAgICQoXCIuc29ydC1ieS1kYXRlXCIpLnJlbW92ZUNsYXNzKFwic29ydC1ieS1tZW51LS1vbi1zY3JlZW5cIik7XG4gICAgICAgICAgJChcIi5zb3J0LWJ5LWRhdGVcIikuYWRkQ2xhc3MoXCJzb3J0LWJ5LW1lbnUtLW9mZi1zY3JlZW5cIik7XG4gICAgICAgIH1cbiAgICAgICAgJChcIi5zaG93LWFsbC1jb25jZXJ0cy1qcy1hamF4XCIpLmFkZENsYXNzKFwic29ydC1ieS10b2dnbGVyX19hY3RpdmVcIik7XG4gICAgXG4gICAgICAgICQoXCIudGFyZ2V0LWRpdi1mb3ItbW9kYWwtYW5kLXNwaW5uZXItanNcIilcbiAgICAgICAgICAuaGlkZSgpXG4gICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgIGA8ZGl2IGNsYXNzPVwiaWdfbG9hZGluZy1zcGlubmVyICAgXCI+XG4gICAgPC9kaXY+YFxuICAgICAgICAgIClcbiAgICAgICAgICAuZmFkZUluKDIwMCk7XG4gICAgXG4gICAgICAgIGNvbnN0IGN1cnJlbnRDb250YWluZXJIZWlnaHQgPSBwcmVBamF4U2V0dXAoXG4gICAgICAgICAgXCIuYWpheC1qcy1jaGFuZ2UtZXZlbnRzLXRhcmdldFwiXG4gICAgICAgICk7XG4gICAgICAgICQoXCIucGFnZS11cGNvbWluZy1jb25jZXJ0c1wiKS5jc3MoXCJtaW4taGVpZ2h0XCIsIGN1cnJlbnRDb250YWluZXJIZWlnaHQpO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgIHVybDogd3BBamF4LmFqYXhVcmwsXG4gICAgICAgICAgZGF0YTogeyBhY3Rpb246IFwiZmlsdGVyXCIsIHZlbnVlSUQ6IG51bGwsIHNob3dBbGwgOiB0cnVlIH0sXG4gICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGFuaW1hdGVBamF4KFxuICAgICAgICAgICAgICBcIi5hamF4LWpzLWNoYW5nZS1ldmVudHMtdGFyZ2V0XCIsXG4gICAgICAgICAgICAgIFwiaGlzdG9yeS13cmFwcGVyX19vbi1zY3JlZW5cIixcbiAgICAgICAgICAgICAgXCJoaXN0b3J5LXdyYXBwZXJfX29mZi1zY3JlZW5cIixcbiAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgXCIucGFnZS11cGNvbWluZy1jb25jZXJ0c1wiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgJChcIi5pZ19sb2FkaW5nLXNwaW5uZXJcIikuZmFkZU91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICQoXCIuaWdfbG9hZGluZy1zcGlubmVyXCIpLnJlbW92ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG59IiwiaW1wb3J0ICogYXMgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IHtwcmVBamF4U2V0dXB9IGZyb20gJy4vY29tcG9uZW50cy9wcmUtYWpheC1zZXR1cCc7XG5pbXBvcnQge2FuaW1hdGVBamF4fSBmcm9tICcuL2NvbXBvbmVudHMvYW5pbWF0ZS1hamF4JztcbiAgXG5leHBvcnQgY29uc3Qgc29ydEJ5RGF0ZUFqYXhDYWxsID0gKCkgPT4ge1xuICAgICQoXCIuc29ydC1ieS1kYXRlLWpzLWFqYXhcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICQoXCIuanMtaGlkZS1kaXYtb24tYWpheFwiKS5oaWRlKCk7XG4gICAgICAgIGNvbnN0IGRhdGVjaG9pY2UgPSAkKHRoaXMpLmRhdGEoXCJjb25jZXJ0LWRhdGVcIik7XG4gICAgXG4gICAgICAgICQoXCIudGFyZ2V0LWRpdi1mb3ItbW9kYWwtYW5kLXNwaW5uZXItanNcIilcbiAgICAgICAgICAuaGlkZSgpXG4gICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgIGA8ZGl2IGNsYXNzPVwiaWdfbG9hZGluZy1zcGlubmVyICAgXCI+XG4gICAgPC9kaXY+YFxuICAgICAgICAgIClcbiAgICAgICAgICAuZmFkZUluKDIwMCk7XG4gICAgXG4gICAgICAgIGNvbnN0IGN1cnJlbnRDb250YWluZXJIZWlnaHQgPSBwcmVBamF4U2V0dXAoXG4gICAgICAgICAgXCIuYWpheC1qcy1jaGFuZ2UtZXZlbnRzLXRhcmdldFwiXG4gICAgICAgICk7XG4gICAgICAgICQoXCIucGFnZS11cGNvbWluZy1jb25jZXJ0c1wiKS5jc3MoXCJtaW4taGVpZ2h0XCIsIGN1cnJlbnRDb250YWluZXJIZWlnaHQpO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgIHVybDogd3BBamF4LmFqYXhVcmwsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgYWN0aW9uOiBcImZpbHRlclwiLFxuICAgICAgICAgICAgdmVudWVJRDogXCJub24tdmVudWUtY2hvaWNlXCIsXG4gICAgICAgICAgICBkYXRlY2hvaWNlOiBkYXRlY2hvaWNlLFxuICAgICAgICAgICAgZGF0ZUZyb21BamF4OiB0cnVlLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGFuaW1hdGVBamF4KFxuICAgICAgICAgICAgICBcIi5hamF4LWpzLWNoYW5nZS1ldmVudHMtdGFyZ2V0XCIsXG4gICAgICAgICAgICAgIFwiaGlzdG9yeS13cmFwcGVyX19vbi1zY3JlZW5cIixcbiAgICAgICAgICAgICAgXCJoaXN0b3J5LXdyYXBwZXJfX29mZi1zY3JlZW5cIixcbiAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgXCIucGFnZS11cGNvbWluZy1jb25jZXJ0c1wiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgJChcIi5pZ19sb2FkaW5nLXNwaW5uZXJcIikuZmFkZU91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICQoXCIuaWdfbG9hZGluZy1zcGlubmVyXCIpLnJlbW92ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG59IiwiaW1wb3J0ICogYXMgJCBmcm9tIFwianF1ZXJ5XCI7XG5pbXBvcnQgeyBwcmVBamF4U2V0dXAgfSBmcm9tIFwiLi9jb21wb25lbnRzL3ByZS1hamF4LXNldHVwXCI7XG5pbXBvcnQgeyBhbmltYXRlQWpheCB9IGZyb20gXCIuL2NvbXBvbmVudHMvYW5pbWF0ZS1hamF4XCI7XG5cbmV4cG9ydCBjb25zdCBzb3J0SGlzdG9yeUJ5WWVhciA9ICgpID0+IHtcbiAgJChcIi5mZXN0aXZhbC15ZWFyLXRvZ2dsZXItanMtYWpheFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGZlc3RpdmFsUXVlcnlZZWFyID0gJCh0aGlzKS5kYXRhKFwiZmVzdGl2YWwteWVhclwiKTtcbiAgICAkKFwiLmV4dHJhLXllYXItaW5mby1qc1wiKS50ZXh0KGZlc3RpdmFsUXVlcnlZZWFyKTtcbiAgICBpZiAoXG4gICAgICAkKFwiLmZlc3RpdmFsLXllYXItdG9nZ2xlci1qcy1hamF4XCIpLmhhc0NsYXNzKFwic29ydC1ieS10b2dnbGVyX19hY3RpdmVcIilcbiAgICApIHtcbiAgICAgICQoXCIuZmVzdGl2YWwteWVhci10b2dnbGVyLWpzLWFqYXhcIikucmVtb3ZlQ2xhc3MoXG4gICAgICAgIFwic29ydC1ieS10b2dnbGVyX19hY3RpdmVcIlxuICAgICAgKTtcbiAgICB9XG4gICAgJCh0aGlzKS5hZGRDbGFzcyhcInNvcnQtYnktdG9nZ2xlcl9fYWN0aXZlXCIpO1xuXG4gICAgJChcIi50YXJnZXQtZGl2LWZvci1tb2RhbC1hbmQtc3Bpbm5lci1qc1wiKVxuICAgICAgLmhpZGUoKVxuICAgICAgLmFwcGVuZChcbiAgICAgICAgYDxkaXYgY2xhc3M9XCJpZ19sb2FkaW5nLXNwaW5uZXIgICBcIj5cbiAgICA8L2Rpdj5gXG4gICAgICApXG4gICAgICAuZmFkZUluKDIwMCk7XG5cbiAgICBjb25zdCBjdXJyZW50Q29udGFpbmVySGVpZ2h0ID0gcHJlQWpheFNldHVwKFwiLmhpc3Rvcnktd3JhcHBlclwiKTtcbiAgICAkKFwiLmN1cnJlbnQteWVhci1hcnRpc3RzX19oaXN0b3J5XCIpLmNzcyhcbiAgICAgIFwibWluLWhlaWdodFwiLFxuICAgICAgY3VycmVudENvbnRhaW5lckhlaWdodFxuICAgICk7XG5cbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiB3cEFqYXguYWpheFVybCxcbiAgICAgIGRhdGE6IHsgYWN0aW9uOiBcImdldEhpc3RvcnlcIiwgZmVzdGl2YWxRdWVyeVllYXIgfSxcbiAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaWYgKCQoXCIuaGlzdG9yeS13cmFwcGVyXCIpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAkKFwiLmhpc3Rvcnktd3JhcHBlclwiKS5yZW1vdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgYW5pbWF0ZUFqYXgoXG4gICAgICAgICAgICBcIi5oaXN0b3J5LWJ5LXllYXItanMtYWpheC1jb250YWluZXJcIixcbiAgICAgICAgICAgIFwiaGlzdG9yeS13cmFwcGVyX19vbi1zY3JlZW5cIixcbiAgICAgICAgICAgIFwiaGlzdG9yeS13cmFwcGVyX19vZmYtc2NyZWVuXCIsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgXCIuY3VycmVudC15ZWFyLWFydGlzdHNfX2hpc3RvcnlcIlxuICAgICAgICAgICk7XG5cblxuICAgICAgICAgICQoXCIuaGlzdG9yeS1ieS15ZWFyLWpzLWFqYXgtY29udGFpbmVyXCIpLmh0bWwoZGF0YSk7XG4gICAgICAgXG5cblxuICAgICAgICAgICQoXCIuaWdfbG9hZGluZy1zcGlubmVyXCIpLmZhZGVPdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChcIi5pZ19sb2FkaW5nLXNwaW5uZXJcIikucmVtb3ZlKCk7XG4gICAgICAgICAgfSk7XG4gICAgXG5cbiAgICAgIFxuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGVycm9yKTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBcblxuICBcbiAgIFxuICB9KTtcblxuXG5cblxufTtcblxuXG4iXSwic291cmNlUm9vdCI6IiJ9